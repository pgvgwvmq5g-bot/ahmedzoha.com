# Environment Variables Configuration Guide

## Setup Instructions

### 1. Create `.env` file in project root

Copy `.env.example` and create `.env` with your actual values:

```bash
cp .env.example .env
```

### 2. Add to `.gitignore`

Ensure `.env` files are never committed (already configured):

```
# .env files (never commit these!)
.env
.env.local
.env.*.local
```

### 3. Environment Variables

```
# Form Services (Web3Forms)
# Get your access key from: https://web3forms.com
PUBLIC_WEB3FORMS_ACCESS_KEY=your_access_key_here

# Google Analytics
# Get your measurement ID from: https://analytics.google.com
PUBLIC_GA_ID=G-XXXXXXXXXX
```

## Using Environment Variables

### In Astro Components

```astro
---
// src/pages/contact.astro
const WEB3FORMS_KEY = import.meta.env.PUBLIC_WEB3FORMS_ACCESS_KEY;
---

<form action="https://api.web3forms.com/submit" method="POST">
  <input type="hidden" name="access_key" value={WEB3FORMS_KEY} />
  <!-- Form fields -->
</form>
```

### In Layouts

```astro
---
// src/layouts/BaseLayout.astro
const GA_ID = import.meta.env.PUBLIC_GA_ID;
---

{GA_ID && (
  <script async src={`https://www.googletagmanager.com/gtag/js?id=${GA_ID}`}></script>
)}
```

### Note on PUBLIC_ prefix

- Variables **with** `PUBLIC_` prefix are exposed to client-side code
- Variables **without** prefix are server-side only (more secure)

## For Hostinger Deployment

**Important:** When deploying to Hostinger, environment variables are **compiled into the build**.

### Build Process:

1. Variables from `.env` are read during `npm run build`
2. `PUBLIC_` prefixed variables are embedded in the JavaScript
3. Upload the `dist/` folder to Hostinger
4. No server-side environment variables needed!

**Steps:**

```bash
# 1. Ensure .env has correct values
cat .env

# 2. Build the site (variables get compiled in)
npm run build

# 3. Upload dist/ folder contents to Hostinger public_html/
# (See HOSTINGER_DEPLOYMENT.md for detailed instructions)
```

### Updating Environment Variables:

If you change environment variables (e.g., new GA ID):

1. Update `.env` file locally
2. Rebuild: `npm run build`
3. Re-upload `dist/` folder to Hostinger

## Validation

After setup, run:

```bash
# Test that build works
npm run build

# Test locally
npm run preview

# Check that GA and Web3Forms are working in the build
```

Check the built files to verify variables were included:

```bash
# Search for your GA ID in the build
grep -r "G-EEGCFL9XPM" dist/

# Search for Web3Forms key
grep -r "b47871b7" dist/
```

If you see your values in the output, they're correctly embedded!
